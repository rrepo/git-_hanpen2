{"filter":false,"title":"scraping_image.rb","tooltip":"/mooovi/scraping_image.rb","undoManager":{"mark":11,"position":11,"stack":[[{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"insert","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/\")","elements = page.search(' .poster_link img')","elements.each do |ele|","  puts ele.get_attribute('src') # get_attributeメソッドで属性srcの値を取得","end"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"remove","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/\")","elements = page.search(' .poster_link img')","elements.each do |ele|","  puts ele.get_attribute('src') # get_attributeメソッドで属性srcの値を取得","end"],"id":14}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"insert","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/\")","elements = page.search(' .poster_link img')","elements.each do |ele|","  puts ele.get_attribute('src') # get_attributeメソッドで属性srcの値を取得","end"],"id":15}],[{"start":{"row":6,"column":29},"end":{"row":6,"column":30},"action":"insert","lines":[" "],"id":16},{"start":{"row":6,"column":30},"end":{"row":6,"column":31},"action":"insert","lines":["i"]},{"start":{"row":6,"column":31},"end":{"row":6,"column":32},"action":"insert","lines":["m"]}],[{"start":{"row":6,"column":32},"end":{"row":6,"column":33},"action":"insert","lines":["f"],"id":17}],[{"start":{"row":6,"column":32},"end":{"row":6,"column":33},"action":"remove","lines":["f"],"id":18}],[{"start":{"row":6,"column":32},"end":{"row":6,"column":33},"action":"insert","lines":["g"],"id":19}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"remove","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/\")","elements = page.search(' .poster_link img')","elements.each do |ele|","  puts ele.get_attribute('src img') # get_attributeメソッドで属性srcの値を取得","end"],"id":20},{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"insert","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","elements = page.search('.entry-content img')","elements.each do |ele|","  puts ele.get_attribute('src') # get_attributeメソッドで属性srcの値を取得","end"]}],[{"start":{"row":0,"column":0},"end":{"row":7,"column":3},"action":"remove","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","elements = page.search('.entry-content img')","elements.each do |ele|","  puts ele.get_attribute('src') # get_attributeメソッドで属性srcの値を取得","end"],"id":21},{"start":{"row":0,"column":0},"end":{"row":5,"column":29},"action":"insert","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","ele = page.at('.entry-content img') # searchからatに変更する","puts ele.get_attribute('src')"]}],[{"start":{"row":0,"column":0},"end":{"row":5,"column":29},"action":"remove","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","ele = page.at('.entry-content img') # searchからatに変更する","puts ele.get_attribute('src')"],"id":22},{"start":{"row":0,"column":0},"end":{"row":5,"column":28},"action":"insert","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","ele = page.at('.entry-content img') # searchからatに変更する","puts ele.get_attribute('src'"]}],[{"start":{"row":5,"column":28},"end":{"row":5,"column":29},"action":"insert","lines":[")"],"id":23}],[{"start":{"row":0,"column":0},"end":{"row":5,"column":29},"action":"remove","lines":["require 'mechanize'","","agent = Mechanize.new","page = agent.get(\"http://review-movie.herokuapp.com/products/22\")","ele = page.at('.entry-content img') # searchからatに変更する","puts ele.get_attribute('src')"],"id":24},{"start":{"row":0,"column":0},"end":{"row":19,"column":3},"action":"insert","lines":["require 'mechanize'","","def scraping_image(link)","  agent = Mechanize.new","  page = agent.get(link)","  image_url = page.at('.entry-content img').get_attribute('src')","  return image_url","end","","links = [] # 個別ページのリンクを保存する配列","agent = Mechanize.new","current_page = agent.get(\"http://review-movie.herokuapp.com/\")","elements = current_page.search('.entry-title a')","elements.each do |ele|","  links << ele.get_attribute('href')","end","","links.each do |link|","  puts scraping_image('http://review-movie.herokuapp.com/' + link)","end"]}]]},"ace":{"folds":[],"scrolltop":93.25,"scrollleft":0,"selection":{"start":{"row":13,"column":22},"end":{"row":13,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1536566371756,"hash":"403ccbb0f3142849d01fef2584d0194175434e39"}